# SWEA 1767번 프로세서 연결하기

- 문제 출처 - [SWEA](https://swexpertacademy.com/)

## 문제 조건

1. 매트릭스의 외부 모두가 전원
2. 매트릭스의 가장 가장자리에 있는 Core는 연결된 것으로 간주
3. 전선은 직선으로만 설치 가능
4. 전선은 교차해서는 안됨
5. 주어진 Core 중 최대한 많은 Core를 연결할 때의 모든 전선의 길이
   - 최다 Core를 연결하는 방법이 여러 개일 경우 최소 전선의 길이
6. NxN Matrix의 크기는 7 <= N <= 12
7. Core의 개수는 1 <= Core <= 12

## 접근 방법

1. ~~Core 연결 순서 정하기: 순열 ~core~P~core~ (Factorial) (최대 12! = 4억??)~~

1. Core의 연결 순서 상관없이 각 코어가 가질 수 있는 상태를 먼저 생각해야한다.

   - 각 Core는 상하좌우 연결(4) + 연결하지 않음(1)으로 총 5개의 상태를 가질 수 있다.
   - 주어질 수 있는 총 Core의 수는 12개 이므로 완적탐색 경우의 수는 5^12 = 2억
   - 여전히 터무니 없이 크기만, 처음 생각한 Core 연결 순서를 고려하는 것에 비해 충분히 가지치기(Backtracking)를 시도할 수 있다.

2. Matrix를 읽으면서 Core의 위치를 저장한다.

   - 이 때, 가장자리에 붙어있는 Core는 어차피 연결된 상태이므로 제외하고 바로 카운트 해준다.

3. 모든 core의 5개의 상태에 대해 DFS를 진행한다.

   - 

   - DFS 인자를 전달해줄 때, 가지치기를 위해 현재 연결된 core수와 전선의 길이를 같이 인자로 넘겨준다.
   - 적용가능한 Backtrack 조건
     - 진행중인 단계에서 (현재 연결된 코어 수 + 앞으로 시도할 코어 수) < (저장된 연결 가능 최대 코어수)